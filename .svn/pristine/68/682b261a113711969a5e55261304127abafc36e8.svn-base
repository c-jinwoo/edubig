<%
/****************************************
    subject : 회원가입
    summary : 회원가입 : 연령선택
****************************************/
%>
<%@ page import="java.net.URLEncoder" %>
<%@ page import="java.security.SecureRandom" %>
<%@ page import="java.math.BigInteger" %>
<%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%>
<%@ include file="/WEB-INF/jsp/inc/taglib_inc.jsp"%>
<!DOCTYPE html>
<html lang="ko">
<head>
	<%@ include file="/WEB-INF/jsp/inc/head_inc.jsp"%>
</head>
<body>
	<!-- header -->
	<%@ include file="/WEB-INF/jsp/inc/header_inc.jsp"%>
	<!--// header -->
	
	<!-- container -->
	<div id="container">
		<div class="con_center">
			<div class="cont_title_wrapper">
				<div class="wrapper">
					<h3 class="cont_title">회원가입</h3>
				</div>			
			</div>
			<div id="content">
				<form name="frm" id="frm" action="/user/memberJoinStep01.do" method="post">
					<input type="hidden" name="snsType" id="snsType" value=""/>
					<input type="hidden" name="snsUserId" id="snsUserId" value=""/>
					<div class="wrapper">
						<div class="cont_body">
							<div class="c_section">	
								<div class="join_type_box">
									<p class="welcome">에듀빅에 오신 것을 환영합니다</p>
									<ul class="c_txtlist line_height">
										<li>에듀빅에서는 다양한 계층을 대상으로 각종 교육콘텐츠와 정보를 제공하고 있습니다.<br />에듀빅을 통해서 서비스를 마음껏 이용하시기 바랍니다.</li>
									</ul>
									<div class="join_type">
										<ul>
											<li class="email">
												<a href="#" onClick="fnSelectSnsType('EMAIL');return false;">
													<span>이메일로 가입</span>
												</a>
											</li>
											<li class="kakao">
												<a href="#" onClick="joinKakao();return false;">
													<span>카카오로 가입</span>
												</a></li>
											<li class="naver">
												<div id="naver_id_login" style="display:none";></div>
												<a href="#" onClick="joinNaver();return false;">
													<span>네이버로 가입</span>
												</a>
											</li>
										</ul>
									</div>
								</div>	
							</div>
						</div>	
					</div>
				</form>
			</div>		
		</div>	
	</div>
	<!--// container -->

	<!-- foot -->
	<%@ include file="/WEB-INF/jsp/inc/footer_inc.jsp"%>
	<!--// foot end -->
</body>
<script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
<script>
	var naver_id_login = new naver_id_login("NfkQNLG6kmYWXRvBVNTU", _url+"/member/redirect.do");
	var state = naver_id_login.getUniqState();
	
	naver_id_login.setButton("white", 2,40);
	naver_id_login.setDomain(_url);
	naver_id_login.setState(state);
	naver_id_login.setPopup();
	naver_id_login.init_naver_id_login();
  	
	function fnSelectSnsType(type){	
		$("#snsType").val(type);	
		$("#frm").submit();
	}			
	function joinKakao(){
		Kakao.Auth.login({
			success: function(authObj){			  	
				Kakao.Auth.setAccessToken(authObj.access_token);

				Kakao.API.request({
				    url: '/v2/user/me',
				    success: function(response){
				    	$("#snsUserId").val(response.id);
				    },
				    fail: function(error){		    	
				    }
				});	
				
				fnSelectSnsType("KAKAO");
			},
			fail: function(err) {
			  	console.log("KAKAO login fail");
			},
		});
	}
  	function joinNaver(){
  		$("#naver_id_login_anchor").click();
	}	
  	function naverCallback(response){
    	$("#snsUserId").val(response.id);
  		
		fnSelectSnsType("NAVER");		  		
  	}
</script>
</html>